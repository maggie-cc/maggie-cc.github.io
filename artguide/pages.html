<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>A Beginner's Guide to 20th Century Art</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        
    <link rel="stylesheet" href="./assets/css/styles.css">
</head>

<body id="page1">

    <div class="container">
      <!--banner and navigation bar across all pages-->
      <div class="row">
        <header class="col-12 p-5">
        <h1><span class="lead">A Beginnerâ€™s Guide to</span> <br>
        <span  class="display-5">Twentieth Century Art before WWII</span></span>  </h1>
        <div class="d-flex flex-row">
          <span class="flex-fill"></span>
          <a class="mr-5 text-dark" href="/">Home</a>
          <a class="text-dark" href="./pages.html">Learn</a>
        </div>
        </header>
      </div>
        <div id="carouselExampleControls" class="carousel slide mt-5"  data-ride="carousel">
    <!--give an id to slides-->
    <div class="carousel-inner" id="slides">
      
     
    </div>
    <!--left and right toggle buttons code from bootstrap-->
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
    </a>
</div>
  
  <script type="module">
    //load in the array of pages
      import {pages} from './assets/js/javascript.js' 
    //binding to the slides container 
      const slideContainer = $('#slides');
    //template for a slide
      const template = (data) => `
            <div class="carousel-header-bar"></div>
            <div class="row mt-5">
                <div class="col-md-6">
                   
                    <h1 class="slide-title">${data.title}</h1>
                    <p class="mt-5">${data.body}</p>
                    <p class="mt-2">${data.body2}</p>
                </div>
                <div class="col-md-6">
                    <figure>
                        <img src="./assets/images/${data.image}" class="d-block w-100" alt="${data.title}">
                        <div class="float-right">
                            <figcaption class="blockquote-footer text-end">
                                ${data.caption}
                            </figcaption> 
                        </div> 
                        
                    </figure>  
                    
                    
                </div>    
    

      `;
      //iterate through pages
      pages.forEach((page,i) => {
          //whether or not it is active
          const active = i > 0 ? '' : 'active';
          console.log(active, i);
          //create a div container in JavaScript 
          const div = document.createElement('div');
          //give the bootstrap classes for slide 
          div.className = "carousel-item px-5 "+ active;
          div.innerHTML = template(page)
          //add slide node to slide container 
          slideContainer.append(div);
      })

    //set the automatic switch to 20s
      $('#carouselExampleControls').carousel({
            interval: 20000
        })
        
    //carousel header bar animation, listen to the event fired when the slide transition happens 
    $('#carouselExampleControls').on('slide.bs.carousel', function (ev) {
        $('.carousel-header-bar').addClass('animate')
        setTimeout(()=> {
            $('.carousel-header-bar').removeClass('animate')
        }, 1000);
        
    })
 
      
  </script> 
    <div class="row">
      <footer class="footer mt-auto py-3">
        <div class="container">
          <span class="text-muted">If you want to learn more about art from other eras, visit Google Art and Culture!</span>
        </div>
      </footer>
    </div>
      

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

  </body>
</html>
